<app-tool-bar></app-tool-bar>
<div class="mainContainer flex center-center">
    <div class="container flex gap1em column">
        <div class="button flex gap1em">
            <mat-form-field>
                <mat-label>Filter</mat-label>
                <input matInput (keyup)="applyFilter($event)" placeholder="Ex. Tiisetso" #input>
            </mat-form-field>
            <span class="flex1"></span>
            <input id="uploadBtn" type="file" name="fileUpload" accept=".xls, .xlsx" (change)="fileUpload($event)" />
            <label class="darkBlue" for="uploadBtn">Add With SpreadSheet</label>
            <button class="btnForm" (click)="openFormPopup()">Add Through Forms</button>

        </div>

        <div class="table">
            <table mat-table [dataSource]="dataSource" matSort>
                <ng-container matColumnDef="Emp_ID">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Employee ID </th>
                    <td mat-cell *matCellDef="let row"> {{row.Emp_ID}} </td>
                </ng-container>
                <ng-container matColumnDef="Emp_Name">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Employee Name</th>
                    <td mat-cell *matCellDef="let element"> {{element.Emp_Name}} </td>
                </ng-container>
                <ng-container matColumnDef="Emp_Surname">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Employee Surname </th>
                    <td mat-cell *matCellDef="let row"> {{row.Emp_Surname}} </td>
                </ng-container>
                <ng-container matColumnDef="Emp_DOB">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Employee DOB </th>
                    <td mat-cell *matCellDef="let row"> {{row.Emp_DOB}} </td>
                </ng-container>
                <ng-container matColumnDef="Emp_Gender">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Employee Gender </th>
                    <td mat-cell *matCellDef="let row"> {{row.Emp_Gender}} </td>
                </ng-container>
                <ng-container matColumnDef="Emp_Email">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Employee Email </th>
                    <td mat-cell *matCellDef="let row"> {{row.Emp_Email}} </td>
                </ng-container>
                <ng-container matColumnDef="Actions">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Actions</th>
                    <td mat-cell *matCellDef="let row" class="flex gap1em"
                        [ngClass]="{ 'deactivated-row': rowActivationStates[row.Emp_ID] }">
                        <button (click)="editUser(row)"><mat-icon>edit</mat-icon></button>
                        <mat-button-toggle-group *ngIf="!rowActivationStates[row.Emp_ID]" name="fontStyle">
                            <mat-button-toggle value="deactivate" (click)="toggleActivation(row.Emp_ID)">
                                <mat-icon>cancel</mat-icon>
                            </mat-button-toggle>
                        </mat-button-toggle-group>
                        <mat-button-toggle-group *ngIf="rowActivationStates[row.Emp_ID]" name="fontStyle">
                            <mat-button-toggle value="activate" (click)="toggleActivation(row.Emp_ID)">
                                <mat-icon>check_circle</mat-icon>
                            </mat-button-toggle>
                        </mat-button-toggle-group>
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumn"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumn;"></tr>
            </table>
        </div>

    </div>
</div>